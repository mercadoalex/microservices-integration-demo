<soapui-project xmlns="http://eviware.com/soapui/config">
    <name>Microservices Integration Demo</name>
    <settings>
        <setting>
            <name>soapui.project.version</name>
            <value>1.0</value>
        </setting>
    </settings>
    <testSuites>
        <testSuite>
            <name>ServiceATests</name>
            <testCases>
                <testCase>
                    <name>TestServiceAEndpoint</name>
                    <steps>
                        <step>
                            <name>RequestServiceA</name>
                            <type>REST</type>
                            <request>
                                <method>GET</method>
                                <url>http://localhost:3000/api/service-a/endpoint1</url>
                                <headers>
                                    <header>
                                        <name>Content-Type</name>
                                        <value>application/json</value>
                                    </header>
                                </headers>
                            </request>
                            <assertions>
                                <assertion>
                                    <type>ResponseAssertion</type>
                                    <property>Response</property>
                                    <operator>Contains</operator>
                                    <value>Response from Service A - Endpoint 1</value>
                                </assertion>
                            </assertions>
                        </step>
                    </steps>
                </testCase>
                <testCase>
                    <name>TestServiceAEndpoint2</name>
                    <steps>
                        <step>
                            <name>RequestServiceAEndpoint2</name>
                            <type>REST</type>
                            <request>
                                <method>POST</method>
                                <url>http://localhost:3000/api/service-a/endpoint2</url>
                                <headers>
                                    <header>
                                        <name>Content-Type</name>
                                        <value>application/json</value>
                                    </header>
                                </headers>
                                <body>
                                    <json>
                                        {
                                            "sample": "data"
                                        }
                                    </json>
                                </body>
                            </request>
                            <assertions>
                                <assertion>
                                    <type>ResponseAssertion</type>
                                    <property>Response</property>
                                    <operator>Contains</operator>
                                    <value>Data received in Service A - Endpoint 2</value>
                                </assertion>
                            </assertions>
                        </step>
                    </steps>
                </testCase>
            </testCases>
        </testSuite>
        <testSuite>
            <name>ServiceBTests</name>
            <testCases>
                <testCase>
                    <name>TestServiceBEndpoint</name>
                    <steps>
                        <step>
                            <name>RequestServiceB</name>
                            <type>REST</type>
                            <request>
                                <method>GET</method>
                                <url>http://localhost:3001/service-b/endpoint</url>
                                <headers>
                                    <header>
                                        <name>Content-Type</name>
                                        <value>application/json</value>
                                    </header>
                                </headers>
                            </request>
                            <assertions>
                                <assertion>
                                    <type>ResponseAssertion</type>
                                    <property>Response</property>
                                    <operator>Contains</operator>
                                    <value>Hello from Service B!</value>
                                </assertion>
                            </assertions>
                        </step>
                    </steps>
                </testCase>
            </testCases>
        </testSuite>
    </testSuites>
</soapui-project>